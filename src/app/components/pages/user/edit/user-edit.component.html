<h1>User edit</h1>

<main>
  <aside>
    <div class="basic-user-info">
      <form novalidate [formGroup]="userForm" (ngSubmit)="updateUser()">
        <div class="form-field">
          <label for="name">User name:</label>
          <input type="text"
                 name="name"
                 id="name"
                 formControlName="name"
                 placeholder="User Name"
                 [ngClass]="{'has-error': userForm.get('name').touched && userForm.get('name').invalid}">
          <div class="error-message"
               *ngIf="userForm.get('name').touched && userForm.get('name').hasError('required')">
            Name is required
          </div>
          <div class="error-message"
               *ngIf="userForm.get('name').touched && userForm.get('name').hasError('minlength')">
            Cannot be less than 3 chars
          </div>
          <div class="error-message"
               *ngIf="userForm.get('name').touched && userForm.get('name').hasError('maxlength')">
            Cannot be more than 5 chars
          </div>
        </div>

        <div class="form-field">
          <label for="email">Email</label>
          <input type="text"
                 name="email"
                 id="email"
                 formControlName="email"
                 placeholder="User Email"
                 [ngClass]="{'has-error': userForm.get('email').touched && userForm.get('email').invalid}">
          <div class="error-message"
               *ngIf="userForm.get('email').touched && userForm.get('email').hasError('required')">
            Email is required
          </div>
          <div class="error-message"
               *ngIf="userForm.get('email').touched && userForm.get('email').hasError('pattern')">
            Should be a valid email address
          </div>
        </div>

        <div class="form-field">
          <label for="phone">Phone number</label>
          <input type="text"
                 name="phone"
                 id="phone"
                 formControlName="phone"
                 placeholder="User phone"
                 [ngClass]="{'has-error': userForm.get('phone').touched && userForm.get('phone').invalid}">
          <div class="error-message"
               *ngIf="userForm.get('phone').touched && userForm.get('phone').hasError('required')">
            Phone number is required
          </div>
          <div class="error-message"
               *ngIf="userForm.get('phone').touched && userForm.get('phone').hasError('pattern')">
            Should be a valid phone number
          </div>
        </div>

        <div class="form-field">
          <label for="website">Website</label>
          <input type="text"
                 name="website"
                 id="website"
                 formControlName="website"
                 placeholder="User website"
                 [ngClass]="{'has-error': userForm.get('website').touched && userForm.get('website').invalid}">
          <div class="error-message"
               *ngIf="userForm.get('website').touched && userForm.get('website').hasError('required')">
            Website is required
          </div>
          <div class="error-message"
               *ngIf="userForm.get('website').touched && userForm.get('website').hasError('pattern')">
            Should be a valid website url
          </div>
        </div>

        <div>
          <input type="submit" [disabled]="userForm.invalid" value="Update">
        </div>
      </form>
    </div>
  </aside>
  <aside>
    <user *ngIf="userData" [data]="userData"></user>
  </aside>
</main>

